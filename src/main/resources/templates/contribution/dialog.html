<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sd="http://www.thymeleaf.org/spring-data" lang="en">

<head th:replace="fragments/headTag :: headTag">
<!-- REPLACE BEFORE COMMITTING -->
</head>

<body role="document" onload="$('input[name=name]').focus();">
	<div th:include="fragments/navBar" th:remove="tag">REPLACE BEFORE
		COMMITTING</div>

	<div class="container">
		<div class="starter-template">
			<h2>
				<span th:if="${contribution['new']}" th:remove="tag">Create</span><span
					th:unless="${contribution['new']}" th:remove="tag">Update</span>
				Contribution
			</h2>
		</div>

		<div role="alert" th:if="${statusMessage}"
			th:class="'alert ' + ${statusMessageClass}?: 'alert-info'"
			th:text="${statusMessage}"></div>

		<form th:object="${contribution}" method="post"
			action="contributionDetails.html" th:action="@{/contributions}"
			class="form-horizontal" id="contribution-form"   enctype="multipart/form-data">
			<div th:replace="fragments/hiddenErrors :: hiddenErrors">REPLACE
				BEFORE COMMITTING</div>

			<table class="table table-striped">
				<tr th:classappend="${#fields.hasErrors('name')} ? 'has-error'">
					<td class="col-sm-1">
						<div class="control-group"
							th:classappend="${#fields.hasErrors('name')} ? 'error'">
							<label class="control-label">Name</label>
						</div>
					</td>
					<td class="col-sm-2">
						<div class="controls">
							<input type="text" class="form-control" th:field="*{name}" /> <label
								class="control-label" th:errors="*{name}">[error]</label>
						</div>
					</td>
				</tr>
				<tr th:classappend="${#fields.hasErrors('brief')} ? 'has-error'">
					<td class="col-sm-1">
						<div class="control-group"
							th:classappend="${#fields.hasErrors('brief')} ? 'error'">
							<label class="control-label">Brief</label>
						</div>
					</td>
					<td class="col-sm-2">
						<div class="controls">
							<input type="text" class="form-control" th:field="*{brief}" /> <label
								class="control-label" th:errors="*{brief}">[error]</label>
						</div>
					</td>
				</tr>
				<tr>
					<td class="col-sm-1">
						<div class="control-group">
							<label class="control-label">File</label>
						</div>
					</td>
					<td class="col-sm-2">
						<div class="controls">
							<input type="file" class="form-control" name="file" />
						</div>
					</td>
				</tr>
				<tr>
					<td></td>
					<td>
						<div class="form-actions pull-right">
							<input type="submit" class="btn btn-success"
								th:value="(${contribution['new']} ? 'Add' : 'Update') + ' Contribution'" />
							<input type="button" th:if="${contribution.id}"
								th:onclick="'window.location.href=\'' + @{|/contritions/${contribution.id}|} + '\''"
								class="btn btn-danger" value="Cancel" /> <input type="button"
								th:unless="${contribution.id}"
								th:onclick="'window.location.href=\'' + @{|/contributions|} + '\''"
								class="btn btn-danger" value="Cancel" />
						</div>
					</td>
				</tr>
			</table>
		</form>
	</div>

	<table th:replace="fragments/footer :: footer" class="footer">REPLACE
		BEFORE COMMITTING
	</table>
</body>

</html>
